{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handler","value","onChange","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","type","Person","person","delPerson","name","number","onClick","Persons","persons","includes","map","baseUrl","obj","getAll","axios","get","create","newObject","post","update","id","console","log","put","del","delete","Notification","message","error","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","notifMessage","setNotifMessage","errorNot","setErrorNot","useEffect","personsService","then","response","data","length","event","target","preventDefault","duplicatePerson","find","window","alert","confirm","nameObject","changedPersons","indexOf","setTimeout","catch","pers","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4c8c7994.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, handler }) => {\r\n    return (\r\n        <div>\r\n          filter shown with <input \r\n            value={filter}\r\n            onChange={handler}\r\n          />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newNumber, addPerson, handleNameChange, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n\r\n        <div>\r\n          name: <input \r\n            value={newName}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          number: <input \r\n          value={newNumber}\r\n          onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, delPerson}) => {\r\n    return (\r\n      <div>\r\n        {person.name} {person.number} &nbsp;\r\n        <button onClick={() => delPerson(person)}>delete</button>\r\n      </div>    \r\n    )\r\n  }\r\n\r\nconst Persons = ({ filter, persons, delPerson }) => {\r\n    return (\r\n        <div>\r\n            {persons\r\n            .filter(person =>\r\n                person.name.includes(filter))\r\n            .map(person =>\r\n              <div key={person.name}>\r\n                <Person person={person} delPerson={delPerson}/>\r\n              </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    console.log(id)\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = (person) => {\r\n    return axios.delete(`${baseUrl}/${person.id}`)\r\n}\r\n\r\nconst obj = {getAll, create, update, del}\r\nexport default obj","import React from 'react'\r\n\r\nconst Notification = ({ message , error}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    if(error){\r\n        return(\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n  \r\n    return (\r\n      <div className=\"notif\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notifMessage, setNotifMessage] = useState(null)\n  const [ errorNot, setErrorNot] = useState(false)\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const duplicatePerson = persons.find(person => person.name === newName)\n    if(typeof(duplicatePerson) !== 'undefined'){\n      if(duplicatePerson.number === newNumber){\n        window.alert(`${newName} is already added to the phonebook with the same number`)\n      }else{\n        if(window.confirm(`${newName} is already added to the phonebook, \n        replace the old number with a new one?`)){\n\n          const nameObject = {\n            name: newName,\n            number: newNumber\n          }\n          personsService\n          .update(duplicatePerson.id, nameObject)\n          .then(response => {\n            const changedPersons = [ ...persons]\n            changedPersons[changedPersons.indexOf(duplicatePerson)].number = newNumber\n            setPersons(changedPersons)\n            setErrorNot(false)\n            setNotifMessage(`Updated phonenumber of  ${newName} to ${newNumber}`)\n            setTimeout(() => {\n              setNotifMessage(null)\n            }, 4000)\n          })\n          .catch(error => {\n            setErrorNot(true)\n            setNotifMessage(`Information of ${duplicatePerson.name} has already been removed`)\n            setPersons(persons.filter(pers => pers.id !== duplicatePerson.id))\n          })\n        }\n      }\n    }else{\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      }\n      personsService\n      .create(nameObject)\n      .then(response => {\n        console.log(response)\n        setPersons(persons.concat(response.data))\n        setErrorNot(false)\n        setNotifMessage(`Added ${newName}`)\n        setTimeout(() => {\n          setNotifMessage(null)\n        }, 4000)\n      })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const delPerson = (person) => {\n    if(window.confirm(`Delete ${person.name} ?`)){\n      personsService\n      .del(person)\n      .then(response => {\n        console.log(response)\n      })\n      setPersons(persons.filter(pers => pers.id !== person.id))\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  useEffect(() => {\n    console.log('effect')\n    personsService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notifMessage} error={errorNot}/>\n\n      <Filter filter={filter} handler={handleFilterChange}/>\n\n      <h2>Add a new</h2>\n      <PersonForm \n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons filter={filter} persons={persons} delPerson={delPerson}/>\n\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}